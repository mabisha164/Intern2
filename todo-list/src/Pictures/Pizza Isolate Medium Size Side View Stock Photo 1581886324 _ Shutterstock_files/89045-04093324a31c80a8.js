"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[89045],{15454:function(e,n,t){t.d(n,{p:function(){return s}});var o=t(25237),s=t.n(o)()(function(){return Promise.all([t.e(27310),t.e(88272),t.e(83725),t.e(90890)]).then(t.bind(t,90964)).then(function(e){return e.AddToCartSnackbar})},{loadableGenerated:{webpack:function(){return[90964]}},ssr:!1})},89045:function(e,n,t){t.d(n,{i:function(){return F}});var o=t(47842),s=t(70865),i=t(96670),a=t(52322),r=t(11164),l=t(18731),u=t(50986),d=t(86669),c=t(54112),f=t(94909),h=t(73377),v=t(75),w=t(32545),b=t(25237),p=t.n(b),S=t(2784),m=t(8740),g=t(15454),A=t(46159),L=(0,S.createContext)({}),y=function(){var e=(0,S.useContext)(L),n=e.color,t=e.shouldUseIcon,o=e.variant;return(0,a.jsx)(A.F,{color:n,shouldUseIcon:t,variant:o,width:70})},B=t(98202),k=p()(function(){return t.e(21169).then(t.bind(t,21169)).then(function(e){return e.OpenLicenseDrawerButton})},{loadableGenerated:{webpack:function(){return[21169]}},ssr:!1,loading:y}),T=p()(function(){return t.e(43299).then(t.bind(t,43299)).then(function(e){return e.DownloadButton})},{loadableGenerated:{webpack:function(){return[43299]}},ssr:!0}),C=p()(function(){return Promise.all([t.e(41075),t.e(20768)]).then(t.bind(t,20768)).then(function(e){return e.ExperimentCVRT1036DownloadButton})},{loadableGenerated:{webpack:function(){return[20768]}},ssr:!0}),I=p()(function(){return t.e(89691).then(t.bind(t,89691)).then(function(e){return e.ExperimentSDAQ112})},{loadableGenerated:{webpack:function(){return[89691]}},ssr:!1}),x=p()(function(){return Promise.all([t.e(45382),t.e(61668),t.e(68439)]).then(t.bind(t,68439)).then(function(e){return e.AddToCartButton})},{loadableGenerated:{webpack:function(){return[68439]}},ssr:!1,loading:y}),_=(0,m.ZL)()(function(e,n){var t=e.breakpoints,s=n.iconBreakpoint;return{root:(0,o.Z)({minWidth:150},t.down(s),{minWidth:0})}}),O={download:"common:actions_download",downloadForFree:"image:logout_adp_free_trial_download",redownload:"common:actions_redownload"},F=function(e){var n=e.asset,t=e.assetSize,o=e.clickAnalyticsLabels,b=e.canOpenDrawerOnLoad,p=e.color,m=e.iconBreakpoint,y=e.hideCtaComponent,F=e.variant,z=_({iconBreakpoint:m}).classes,D=(0,c.D)({namespace:v.Otp,translationKeys:O}).labels,E=(0,r.m)(),U=(0,S.useCallback)(function(e){var n=e.hasExistingLicense?o.redownloadButton:o.downloadButton;return(0,h.U_)(n)},[o.downloadButton,o.redownloadButton]),Z=(0,w.iP)(null==n?void 0:n.holding),P=(0,B.A)({asset:n,clickAnalyticsLabels:o,labels:D,assetIsLicensed:Z,hideCtaComponent:y,shouldFetchEligibility:!Z}),j=P.addToCartFailureHandler,N=P.addToCartStatus,R=P.addToCartSuccessHandler,V=P.closeAddToCartSnackbarHandler,W=P.downloadButtonClickAnalyticsLabel,G=P.downloadButtonLabel,H=P.eligibility,X=P.hasExistingLicense,K=P.shouldShowAddToCartButton,M=P.shouldShowDownloadButton,q=P.shouldShowExperimentSDAQ112,Y=P.shouldShowOpenLicenseDrawerButton,J=P.shouldShowButtonLoadingPlaceholder,Q=(0,u._)({asset:n}).shouldShowExperimentCVRT1036,$=(0,f.d)({breakpoint:m}),ee=(null==E?void 0:E.insightType)?{clickTrackOptions:{insightType:E.insightType}}:{};return(0,a.jsx)("div",{className:z.root,children:J&&!M?(0,a.jsx)(A.F,{color:p,shouldUseIcon:$,variant:F,width:70}):(0,a.jsxs)(L.Provider,{value:{color:p,shouldUseIcon:$,variant:F},children:[M&&!q&&!Q&&(0,a.jsx)(T,(0,i.Z)((0,s.Z)({asset:n,clickAnalyticsLabel:(0,h.U_)(W)},ee),{label:G,color:p,variant:F,shouldUseDownloadIcon:$})),Q&&(0,a.jsx)(C,(0,i.Z)((0,s.Z)({asset:n,clickAnalyticsLabel:(0,h.U_)(W)},ee),{label:G,color:p,variant:F,shouldUseDownloadIcon:$})),q&&(0,a.jsx)(I,(0,i.Z)((0,s.Z)({asset:n,clickAnalyticsLabel:(0,h.U_)(W)},ee),{label:G,color:p,variant:F,shouldUseDownloadIcon:$})),Y&&(0,a.jsx)(l.l,{allSizesAssetEligibility:H,asset:n,canOpenDrawerOnLoad:b,children:(0,a.jsx)(k,(0,i.Z)((0,s.Z)({clickAnalyticsLabel:U({hasExistingLicense:X})},ee),{label:X?D.redownload:D.download,onAddToCartSuccess:R,color:p,variant:F,shouldUseDownloadIcon:$,canOpenDrawerOnLoad:b}))}),K&&(0,a.jsx)(x,(0,s.Z)({asset:n,itemsToAdd:[(0,d.zg)({asset:n,assetSize:t})],onAddToCartSuccess:R,onAddToCartFailure:j,color:p,variant:F,shouldUseIcon:$,clickAnalyticsLabel:(0,h.U_)(o.addToCartButton)},ee)),!!N.status&&(0,a.jsx)(g.p,{alertSeverity:N.status,onCloseSnackbar:V,error:N.error})]})})};F.defaultProps={asset:{},clickAnalyticsLabels:{},iconBreakpoint:null,hideCtaComponent:!1}},98202:function(e,n,t){t.d(n,{A:function(){return L}});var o=t(47842),s=t(87394),i=t(44699),a=t(39232),r=t(44297),l=t(37443),u=t(95775),d=t(70008),c=t(94909),f=t(43110),h=t(20865),v=t(2784),w=t(70865),b=t(96670),p=function(e){var n=e.clickAnalyticsLabels,t=e.hasExistingLicense,o=e.isOffsetAsset,s=e.isRexEditorialAsset,i=e.isLoggedInUser,a=e.labels,r=e.override;return(0,w.Z)((0,b.Z)((0,w.Z)({},s?{downloadButtonClickAnalyticsLabel:n.downloadButton,downloadButtonLabel:a.download}:{downloadButtonClickAnalyticsLabel:n.downloadFreeButton,downloadButtonLabel:a.downloadForFree}),{shouldShowDownloadButton:!i&&!o,shouldShowAddToCartButton:!!o&&!t,shouldShowOpenLicenseDrawerButton:i&&!o||i&&o&&t}),null==r?void 0:r())},S=function(e){var n=e.isFootageSelect,t=e.isLoggedInUser,o=e.isLoggedInWithoutPlan;return{shouldShowAddToCartButton:!t||o||n,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:e.isLoggedInWithPlan&&!n}},m=function(e){var n=e.clickAnalyticsLabels,t=e.hasVideoRenderUrl,o=e.labels;return{downloadButtonClickAnalyticsLabel:n.downloadButton,downloadButtonLabel:o.download,shouldShowAddToCartButton:!1,shouldShowDownloadButton:t,shouldShowOpenLicenseDrawerButton:!1}},g=function(e){var n,t=e.assetType,o=e.clickAnalyticsLabels,s=e.hasExistingLicense,i=e.hasExistingSubscription,r=e.isFootageSelect,l=e.isLoggedInUser,u=e.isMobile,d=e.isOffsetAsset,c=e.isRexEditorialAsset,f=e.hasVideoRenderUrl,h=e.labels,v=e.overrides,w=i||s,b=l&&!w,g=l&&w;switch(t){case a.k4:n=p({clickAnalyticsLabels:o,hasExistingLicense:s,hasPlan:w,isLoggedInUser:l,isMobile:u,isOffsetAsset:d,isRexEditorialAsset:c,labels:h,override:v[a.k4]});break;case a.pX:n=S({isFootageSelect:r,isLoggedInUser:l,isLoggedInWithoutPlan:b,isLoggedInWithPlan:g});break;case a.bz:n=m({clickAnalyticsLabels:o,hasVideoRenderUrl:f,labels:h});break;case a.xF:case a.tn:default:n={shouldShowAddToCartButton:!l||b||r,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:g&&!r}}return t===a.pX&&c?{shouldShowAddToCartButton:!s,shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:s}:n},A=function(e){var n=e.isLoggedInUser,t=e.shouldFetchEligibility,o=e.hasActiveSubscriptionForAssetType,s=e.assetType,i=e.isFootageSelect,r=e.isOffsetAsset,l=!i&&(r&&s===a.k4||s===a.pX||s===a.xF||s===a.tn);return!!(n&&t&&(!1===o||r)&&l)},L=function(e){var n,t,w=e.asset,b=e.clickAnalyticsLabels,p=e.hideCtaComponent,S=void 0!==p&&p,m=e.labels,L=e.shouldFetchEligibility,y=e.assetIsLicensed,B=w.isFootageSelect,k=(0,r.Tp)(w),T=(0,r.PD)(w),C=(0,r.EK)(w),I=(0,c.d)({breakpoint:"sm"}),x=(0,f.B)(),_=(0,d.B)().isIndiaRegion,O=(0,h.DJ)().data,F=(0,l.l)({subscriptions:O,assetType:k,isRexEditorialAsset:C}),z=A({isLoggedInUser:x,shouldFetchEligibility:void 0===L||L,hasActiveSubscriptionForAssetType:F,assetType:k,isFootageSelect:B,isOffsetAsset:T}),D=(0,u.IP)({assets:[w],shouldFetch:z}).data,E=(0,s.Z)((0,v.useState)({status:"",error:void 0}),2),U=E[0],Z=E[1],P=void 0!==y&&y||!!(null==D?void 0:null===(n=D.licenses)||void 0===n?void 0:n.length),j=!!(null==D?void 0:null===(t=D.subscriptions)||void 0===t?void 0:t.length)||F,N=g({assetType:k,clickAnalyticsLabels:void 0===b?{}:b,hasExistingLicense:P,hasExistingSubscription:j,isFootageSelect:B,isLoggedInUser:x,isOffsetAsset:T,isRexEditorialAsset:C,hasVideoRenderUrl:!!w.videoRenderUrl,labels:void 0===m?{}:m,overrides:(0,o.Z)({},a.k4,function(){return!_||x||C?S&&T?{shouldShowAddToCartButton:!1}:{}:{shouldShowDownloadButton:!1,shouldShowOpenLicenseDrawerButton:!0}})}),R=N.shouldShowDownloadButton,V=N.shouldShowOpenLicenseDrawerButton,W=N.shouldShowAddToCartButton,G=N.downloadButtonClickAnalyticsLabel,H=N.downloadButtonLabel,X=k===a.k4&&I&&R,K=(0,v.useCallback)(function(){return Z({status:i.MR,error:void 0})},[]);return{addToCartFailureHandler:(0,v.useCallback)(function(e){return Z({status:i.cM,error:e})},[]),addToCartStatus:U,addToCartSuccessHandler:K,closeAddToCartSnackbarHandler:(0,v.useCallback)(function(){return Z({status:"",error:void 0})},[]),downloadButtonClickAnalyticsLabel:G,downloadButtonLabel:H,eligibility:D,hasExistingLicense:P,shouldShowAddToCartButton:W,shouldShowButtonLoadingPlaceholder:void 0===x||x&&void 0===O,shouldShowDownloadButton:R,shouldShowExperimentSDAQ112:X,shouldShowOpenLicenseDrawerButton:V}}},46159:function(e,n,t){t.d(n,{F:function(){return u}});var o=t(52322),s=t(83249),i=t(72841),a=t(85801),r=t(21647),l=(0,t(8740).ZL)()(function(e){var n=e.palette;return{secondary:{"&:disabled":{backgroundColor:n.secondary.main}},"skeleton-secondary":{backgroundColor:n.secondary.dark}}}),u=function(e){var n=e.color,t=e.classesProps,u=e.shouldUseIcon,d=e.shouldUseIconWithLabelBelow,c=e.variant,f=e.width,h=l().classes;return d?(0,o.jsx)(s.Z,{className:t.addToCartButton,disabled:!0,variant:"text",size:"large",children:(0,o.jsx)(i.Z,{color:"inherit",size:24})}):u||d?(0,o.jsx)(a.Z,{disabled:!0,size:"large",children:(0,o.jsx)(i.Z,{color:"inherit",size:24})}):(0,o.jsx)(s.Z,{"aria-label":"Loading",classes:{root:h[n]},variant:c,fullWidth:!0,disabled:!0,children:(0,o.jsx)(r.Z,{variant:"text",width:f,classes:{root:h["skeleton-".concat(n)]}})})};u.defaultProps={color:"secondary",shouldUseIcon:!1,shouldUseIconWithLabelBelow:!1,variant:"contained",width:"100%"}},19928:function(e,n,t){t.d(n,{w:function(){return o}});var o=(0,t(2784).createContext)({})},18731:function(e,n,t){t.d(n,{l:function(){return a}});var o=t(52322),s=t(2784),i=t(19928),a=function(e){var n=e.allSizesAssetEligibility,t=e.asset,a=e.children;return(0,o.jsx)(i.w.Provider,{value:(0,s.useMemo)(function(){return{allSizesAssetEligibility:n,asset:t}},[n,t]),children:a})};a.defaultProps={allSizesAssetEligibility:{},asset:{}}},50986:function(e,n,t){t.d(n,{_:function(){return r}});var o=t(44297),s=t(70008),i=t(94909),a=t(43110),r=function(e){var n=e.asset,t=(0,o.aT)(n)&&!(0,o.N3)(n),r=(0,o.PD)({channels:null==n?void 0:n.channels}),l=(0,a.B)(),u=(0,i.d)(),d=(0,s.B)().isIndiaRegion;return{shouldShowExperimentCVRT1036:!l&&t&&!u&&!r&&!d}}},86669:function(e,n,t){t.d(n,{pd:function(){return S},zg:function(){return m},pl:function(){return v}});var o=t(47842),s=t(70865),i=t(98217),a=t(27739),r=t(56495),l=t(39232),u=t(12969),d=t(37546),c=t(44297),f=t(18411),h=f.Oy.SSTK_TO_LEGACY;f.Oy.LEGACY_TO_SSTK;var v=function(e){var n,t=e.cartData,o=e.asset,s=e.licenseType,i=void 0===s?null:s;return null==t?void 0:null===(n=t.items)||void 0===n?void 0:n.find(function(e){var n,t,s=(null==e?void 0:null===(n=e.mediaItem)||void 0===n?void 0:n.id)===(null==o?void 0:o.id);return i?s&&(null==e?void 0:null===(t=e.product)||void 0===t?void 0:t.license)===i:s})},w=function(e){var n=e.license,t=e.type,o=e.isVideoAsset;return e.isOffsetAsset&&!n?a.WN:n||o?n:t===l.tn?r.bK:i.X},b=function(e){var n=e.isVideoAsset,t=e.size,o=e.isFootageSelect,s=e.isOffsetAsset;if(n){var i=t.resolution;return o?"select":h[i]||i.toLowerCase()}if(s)return"offset"},p=function(e){var n=(0,c.Am)(e),t=e.id,i=e.size,a=e.isFootageSelect,r=e.type,l=e.license,u=e.isOffsetAsset,d={type:"cart-items",relationships:{"media-item":{data:{id:u?t.toString():t,type:r}}}},f=b({isVideoAsset:n,size:i,isFootageSelect:a,isOffsetAsset:u}),h=w({type:r,license:l,isVideoAsset:n,isOffsetAsset:u});return d.meta=(0,o.Z)({},"legacy_cart",(0,o.Z)({},"cart",(0,s.Z)({},h?{license:h}:{},f?{size:f}:{}))),d},S=function(e){var n=e.items;return null==n?void 0:n.map(function(e){return p(e)})},m=function(e){var n=e.asset,t=e.assetSize,o=e.license,s=n.id,i=n.type,a=n.isFootageSelect,r=(0,c.PD)(n),f=(0,c.Tp)(n),h=t;return t||f===l.xF||f===l.tn||f===l.bz||(h=(0,c.Tp)(n)===l.pX?(0,d.kS)(Object.values(n.sizes))[0]:(0,u.M)({asset:n})),{id:s,type:i,isOffsetAsset:r,isFootageSelect:a,size:h,license:o}}},12969:function(e,n,t){t.d(n,{L:function(){return f},M:function(){return c}});var o=t(70865),s=t(96670),i=t(87394),a=t(19522),r=t(39232),l=t(61765),u=t(37546),d=t(44297),c=function(e){var n=e.asset;switch((0,d.Tp)(n)){case r.pX:return(0,u.FG)(Object.values(n.sizes));case r.k4:default:return(0,u.Nf)((null==n?void 0:n.sizes)&&Object.values(n.sizes))}},f=function(e){var n,t,c,f=e.asset,h=e.selectedAssetSize,v=e.selectedShadowsOption,w=(0,l.qw)({asset:f}),b=(0,d.f8)(f);(0,d.so)(f)&&(w=r.A7);var p=f.id.toString(),S=(0,l.JD)({assetType:w,assetId:p});switch(w){case r.pX:case r.A7:t=null==(n=h||(null===(c=(0,u.Z)({sizes:f.sizes}))||void 0===c?void 0:c[0]))?void 0:n.resolution;break;case r.j0:case r.tn:case r.xF:t=null==(n=h)?void 0:n.resolution;break;case r.pV:case r.ox:default:n=h||(0,u.Nf)(f.sizes),t=(0,i.Z)(n.name.split("_"),1)[0]}return(0,o.Z)({content_id:p,content_type:S,content_size:t,content_format:null==n?void 0:n.format},b?(0,s.Z)((0,o.Z)({},h.format===a.yI&&{include_shadows:"on"===v}),{angle:(null==f?void 0:f.angle)||"H01"}):{})}},37443:function(e,n,t){t.d(n,{l:function(){return a}});var o=t(56495),s=t(39232),i=t(24861),a=function(e){var n=e.subscriptions,t=e.assetType;return null==n?void 0:n.some(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.product,a=void 0===n?{status:"",businessUnit:"",name:""}:n,r=a.status,l=a.businessUnit,u=a.name;return r===i.PP&&(t===s.tn?o.LY.includes(u):l===t||"none"===l)})}},95775:function(e,n,t){t.d(n,{IP:function(){return g},jC:function(){return m}});var o=t(70865),s=t(81740),i=t(19522),a=t(39232),r=t(94054),l=t(60591),u=t(61765),d=t(44297),c=t(18411),f=t(67661),h=t(9009),v=t(81232),w=t(3255),b=t(43110),p=function(e){var n=e.assetTypeFromAsset,t=e.licenseName,s=e.selectedAssetSize;switch(n){case a.pX:return(0,o.Z)({},(null==s?void 0:s.name)&&{content_size:c.Oy.SSTK_TO_LEGACY_ELIGIBILTY[s.name]||s.name});case a.j0:case a.xF:return{content_format:a.j0};case a.tn:return{content_format:i._Y};default:return(0,o.Z)({},(null==s?void 0:s.name)&&{content_size:c.nd[(0,v.z)(s.name)].downloadName},(null==s?void 0:s.format)&&{content_format:s.format},t===l.HS&&{license_name:l.HS},(t===r.sVc||n===a.gP)&&{license_name:r.sVc})}},S=function(e){var n=e.assets,t=e.include,s=e.licenseName,i=e.selectedAssetSize,a=n[0],r=(0,d._L)(a),l={},c=(0,d.f8)(a);(null==n?void 0:n.length)>=2?l.content_ids=n.filter(function(e){return!!e.id}).join(","):l.content_id=null==a?void 0:a.id;var f=p({assetTypeFromAsset:r,licenseName:s,selectedAssetSize:i});return(0,o.Z)({include:void 0===t?"subscriptions,licenses,licenses.product,subscriptions.product":t,content_type:(0,u.JD)({assetType:r,assetId:null==a?void 0:a.id})},f,c&&{content_provider:"pixelsquid-media"},l)},m=function(e){var n=e.licenseeIdentifier,t=e.assets,o=e.licenseName,i=e.selectedAssetSize;return(0,s.Td)({urlParams:{licenseeIdentifier:n},queryParams:S({assets:t,licenseName:o,selectedAssetSize:i})}).formattedUrl},g=function(e){var n=e.assets,t=e.licenseeIdentifier,o=void 0===t?r.RU_:t,s=e.licenseName,i=e.selectedAssetSize,a=e.shouldFetch,l=(0,b.B)();return(0,w.ZP)((void 0===a||a)&&l?m({licenseeIdentifier:o,assets:n,licenseName:s,selectedAssetSize:i}):null,function(e){return f.uS.get(e).then(function(e){return(0,h.O)(e.data)})})}},70008:function(e,n,t){t.d(n,{B:function(){return s}});var o=t(65532),s=function(){return{isIndiaRegion:"IN"===(0,o.PE)().region}}},32545:function(e,n,t){t.d(n,{EC:function(){return B},Il:function(){return u},Jk:function(){return f},KN:function(){return S},N4:function(){return L},R8:function(){return b},Vx:function(){return y},ZD:function(){return g},_f:function(){return l},ch:function(){return m},iP:function(){return h},qT:function(){return v},sb:function(){return d},wy:function(){return c},yo:function(){return p}});var o=t(68827),s=t(39232),i=t(44297),a=t(56219),r=t(22037),l=function(e){return e.filter(function(e){return!e.mediaItem.isWithdrawn})},u=function(e){return l(e).filter(function(e){return!e.mediaItem.isUpload})},d=function(e){var n;return null===(n=e.assetStatus)||void 0===n?void 0:n.includes(o.ue)},c=function(e){return"3d-object"===e.mediaItem.imageType},f=function(e){return(0,a.sU)(e.mediaItem)},h=function(e){var n;return null==e?void 0:null===(n=e.assetStatus)||void 0===n?void 0:n.includes(o.Th)},v=function(e){var n;return null==e?void 0:null===(n=e.assetStatus)||void 0===n?void 0:n.includes(o.O1)},w=function(e){return d(e)||f(e)},b=function(e){return e.length>0&&e.every(w)},p=function(e){return e.length>0&&!e.some(w)},S=function(e){return e.length>0&&e.every(h)},m=function(e){return e.length>0&&e.every(function(e){return e.isPrivate})},g=function(e){return e.some(function(e){var n=e.mediaItem;return(0,a.tq)(n)})},A=function(e){return(0,a.gS)(e.mediaItem)||(0,a.tq)(e.mediaItem)},L=function(e){return e.some(A)},y=function(e){var n={};return e.some(function(e){var t=e.mediaItem;if(t.type===s.bz||t.isUpload)return!1;var o=(0,r.bW)(t);return o in n?n[o]!==(0,i.nF)(t):(n[o]=(0,i.nF)(t),!1)})},B=function(e){return!e.some(function(e){return d(e)||(0,a.aA)(e.mediaItem)||A(e)})}}}]);
//# sourceMappingURL=89045-04093324a31c80a8.js.map